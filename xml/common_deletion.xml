<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-daps:xslt:profiling:docbook45-profile.xsl" type="text/xml"
title="Profiling step" ?>

<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "/usr/share/xml/docbook/schema/dtd/4.5/docbookx.dtd" [
<!ENTITY % entities SYSTEM "entities.ent">
%entities; ]>
  <chapter id="delete">
    <title>Удаление записей</title>
    <para>При удалении любых записей в программе используется единый механизм, отслеживающий зависимости между объектами базы данных и позволяющий сохранить целостность данных при удалении любых объектов.</para>
    <para>Если на удаляемый объект в базе данных нет ссылок, то программа выводит простое предупреждение, согласны ли вы удалить этот объект.</para>
    <para>Если же объект или элемент справочника уже использовался в каком-либо месте, то программа предложит более сложное удаление, при котором вместе с этим объектом будут также удалены все объекты на него ссылающиеся и\или в них будут удалены ссылки на удаляемый объект. <phrase condition="bazar">При этом учитывается все дерево зависимостей, то есть, удаляя например тип места, вместе с ним будут удалены все места относящиеся к этому типу, а уже вместе с местами будут удалены все договора оформленные на эти места и т.д.</phrase></para>
    <screenshot>
      <mediaobject>
        <imageobject condition="bazar">
          <imagedata fileref="DeleteExample.png"/>
        </imageobject>
        <imageobject condition="workwear">
          <imagedata fileref="Workwear_Deletion.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <warning>
      <para>При удалении будьте всегда аккуратны, так как удаляя один объект вы можете случайно удалить из базы очень много полезной информации, которую удалять не планировали. Удаленные объекты уже нельзя будет восстановить.</para>
    </warning>
    <para condition="bazar">При сложном удалении существует 2 типа действий, если ссылка на удаляемый объект является обязательной, например вы удаляете сотрудника вместе с ним будут удалены все его авансовые отчеты, так как в авансовом отчете не может отсутствовать подотчетное лицо. В тоже время, если вы удаляете договор, то приходные ордера в которых указан этот договор не будут удалены, в них только будет удалена информация о том, что данный платеж был сделан по этому договору(очищена ссылка).</para>
  </chapter>


<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet href="urn:x-daps:xslt:profiling:docbook45-profile.xsl" type="text/xml"
title="Profiling step" ?><!-- This document was created with Syntext Serna Free. --><!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "/usr/share/xml/docbook/schema/dtd/4.5/docbookx.dtd" []>
<book id="book.daps.quick" lang="ru">
<?suse-quickstart columns="no" version="2" color="suse" url="http://www.qsolution.ru"?>  <bookinfo>
    <title>База арендаторов Базар 2.0</title>
    <subtitle>Руководство пользователя</subtitle>
    <productname>Базар</productname>
    <productnumber>2.0.3</productnumber>
    <author>
      <firstname>Андрей</firstname>
      <surname>Ганьков</surname>
    </author>
    <pubdate>2013</pubdate>
    <copyright>
      <year>2013</year>
      <holder>Quality Solution</holder>
    </copyright>
  </bookinfo>
  <preface>
    <title>Введение</title>
    <para>Программа &quot;Баз.Ар.&quot; (База арендаторов) предназначена для организаций, сдающих любые площади в аренду. Она позволяет вести учет площадей, сдаваемых в аренду, арендаторов, вести учет сроков аренды по договорам, вести кассу(приход и расход), учитывать долги подотчетных лиц и проводить ежемесячные начисления арендной платы и других услуг. Также в программе есть возможность за каждой сдаваемой площадью закреплять контактное лицо и вести журнал событий, например происшествий или договоренностей с арендатором.</para>
    <para>Программа создана в среде MonoDevelop, с использованием открытых технологий Mono, GTK#, MySQL, может функционировать в нескольких операционных системах, и имеет клиент-серверную архитектуру (многопользовательский режим).</para>
    <para>Программа распространяется бесплатно, вы можете использовать ее в своей работе, без каких-либо гарантий с нашей стороны(как есть). Для серьезных компаний, желающих быть уверенными в решении любых проблем с их основным инструментом работы, мы предлагаем приобрести платную техническую поддержку или внедрение системы с доработкой под нужды предприятия.</para>
    <para>Подробнее об условиях использования смотри <xref linkend="License"/>.</para>
  </preface>
  <chapter>
    <title>Установка программы</title>
    <section>
      <title>Установка клиента на Windows</title>
      <para>Для установки клиента на windows, скачайте с сайта <ulink url="http://bazar.qsolution.ru">bazar.qsolution.ru</ulink> инсталятор для windows и запустите bazar-x.x.x.exe. Пройдите все шаги установщика. Установщик автоматически предложит установить библиотеку GTK# и при необходимости установить платформу .Net</para>
      <para>Для проверки функциональных возможностей программы нет необходимости устанавливать собственный сервер баз данных, можно подключиться к демонстрационному серверу с следующими настройками:</para>
      <para>Сервер: <userinput>demo.qsolution.ru</userinput></para>
      <para>Логин: <userinput>demo</userinput></para>
      <para>Пароль: <userinput>demo</userinput></para>
    </section>
    <section>
      <title>Установка и настройка собственного сервера базы данных</title>
      <section>
        <title>Установка сервера MySQL</title>
        <para>Установите на компьютер, который будет использоваться в качестве сервера, базу данных MySQL, ее можно устанавливать на большинство операционных систем Linux, Mac OS, Windows и другие. Способ установки MySQL зависит от операционной системы, для подробных инструкций по установке вы можете обратится к документации вашей операционной системы. Версию для windows можно скачать с сайта разработчика <ulink url="http://www.mysql.com/downloads/mysql/#downloads">www.mysql.com</ulink>. Установку MySQL на Linux лучше производить из репозитория вашего дистрибутива.</para>
      </section>
      <section id="Install_base">
        <title>Установка пустой базы</title>
        <para>Для выполнения дальнейших действий по установке пустой базы мы рекомендуем использовать MySQL Workbench, но вы можете использовать любой другой инструмент, в зависимости от ситуации, например phpMyAdmin или консоль MySQL. Версию Workbench для Windows можно скачать <ulink url="http://www.mysql.com/downloads/workbench/">здесь</ulink>.  На Linux также устанавливаем из репозиториев дистрибутива. Если на сервере работает Firewall, необходимо открыть порт 3306.</para>
        <para>Добавляем новое соединение с сервером.</para>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="1-NewConnection.png"/>
            </imageobject>
          </mediaobject>
        </screenshot>
        <para>Вводим ip-адрес компьютера на котором установлен сервер, если сервер установлен на том же компьютер выбираем <literal>localhost</literal>.</para>
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="2-CreateConnection.png"/>
            </imageobject>
          </mediaobject>
        </screenshot>
        <para>Проверяем настройки соединения, вводим имя пользователя в поле <literal>User name</literal>, кнопкой <guibutton>Store in Kеychain</guibutton> можно указать пароль для пользователя, который подключается к базе данных. В новой установке MySQL, администратор сервера по умолчанию <userinput>root</userinput>. Для удаленного подключения, возможно предварительно придется настроить MySQL на работу по сети, смотрите документацию MySQL.</para>
        <screenshot>
          <mediaobject>
            <imageobject role="fo">
              <imagedata width="100%" scalefit="1" fileref="3-ConnectionUser.png"/>
            </imageobject>
            <imageobject role="html">
              <imagedata fileref="3-ConnectionUser.png"/>
            </imageobject>
          </mediaobject>
        </screenshot>
        <para>В следующем окне можно настроить удаленное управление сервером, в нашем случае это не требуется, поэтому выбираем <guilabel>Do not use remote management</guilabel>. Нажимаем <guibutton>далее</guibutton>, помощник настроил соединение и завершит работу.</para>
        <para>Теперь у нас в разделе <literal>Server Administrator</literal> появилось настроенное соединение. Заходим в консоль администратора кликнув по нашему соединению.</para>
        <para>Переходим в раздел <literal>Data Import\Restore</literal>, выбираем пункт <literal>Import from Self-Contained File</literal> и указываем на файл пустой базы данных, скаченный с сайта. Нажимаем кнопку <guibutton>Start Import</guibutton>. После завершения импорта у нас появится база данных <literal>bazar</literal>.</para>
        <screenshot>
          <mediaobject>
            <imageobject role="fo">
              <imagedata width="100%" scalefit="1" fileref="5-ImportData.png"/>
            </imageobject>
            <imageobject role="html">
              <imagedata fileref="5-ImportData.png"/>
            </imageobject>
          </mediaobject>
        </screenshot>
      </section>
      <section id="FirstUser">
        <title>Добавление первого пользователя</title>
        <para>Пришло время добавить первого пользователя. Для этого запустите программу &quot;Базар&quot; и зайдите в базу под пользователем <userinput>root</userinput>. Вход в базу более подробно описан в <xref linkend="ConnectionToBase"/>.</para>
        <para>Под администратором базы данных крайне не рекомендуется работать в программе. Поэтому программа при запуске сразу откроет диалог управления пользователями, чтобы вы смогли создать своих первых пользователей. Подробнее о создании пользователей смотрите <xref linkend="Users"/>. После создания пользователя, закройте диалог и зайдите в программу под созданным пользователем. Можно приступать к работе.</para>
      </section>
    </section>
  </chapter>
  <chapter id="ConnectionToBase">
    <title>Начало работы с программой и подключение к базе данных</title>
    <para>Перед началом работы с программой необходимо создать хотя бы одного пользователя (см. <xref linkend="FirstUser"/>).  Программа оптимизирована для работы по низкоскоростным каналам, например,  при связи с базой через интернет. Это позволяет разместить базу данных на удаленном сервере, при таком режиме работы обратите особое внимание на безопасность. Как подготовить базу данных «БазАр» к работе, смотри <xref linkend="Install_base"/>.</para>
    <para>Для входа в программу нужно указать адрес сервера базы данных, имя пользователя и пароль. После успешного соединения «БазАр» автоматически запоминает настройки соединения, кроме пароля. В дальнейшем достаточно будет ввести только пароль.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="Login.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <para>После входа в базу каждый пользователь может изменить свой пароль, для этого используется меню <guimenu>Файл</guimenu> ⇒ <guimenuitem>Изменить пароль</guimenuitem>.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="Password.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </chapter>
  <chapter>
    <title>Первоначальное заполнение справочников</title>
    <para>Перед внесением в программу оперативных данных(которые часто меняются), такие как места, арендаторы, оплаты и прочее, необходимо предварительно занести всю основную информацию в справочники, чтобы в дальнейшем было удобно работать и при вводе оперативных данных не приходилось заполнять справочники. </para>
    <para>Все имеющиеся справочники доступны через меню. Окно справочника одинаковое для всех видов справочников. В нем можно осуществлять поиск по вхождению символов в название элемента, добавлять, изменять или удалять элементы.
   <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="Reference.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
   <warning>
        <para>Будьте аккуратны при удалении элемента справочника, вместе с ним будут удалены все данные, на него ссылающиеся, подробнее смотри <xref linkend="delete"/>.</para>
      </warning></para>
    <section>
      <title>Организации, кассы</title>
      <para>Первые данные, которые вам следует заполнить в программе, это название вашей организации и ввести все кассы, если их у вас несколько. Первоначально в пустой базе данных уже занесена организация &quot;Моя организация&quot;, рекомендуем вам открыть справочник организаций, выбрать элемент &quot;Моя организация&quot; и изменить название. При необходимости, тоже самое можно сделать и в справочнике &quot;Кассы&quot;.</para>
      <tip>
        <para>Во всех диалогах программы, где есть возможность выбирать элемент справочника, программа автоматически подставляет значение, если в справочнике всего 1 элемент. По этому Если у вас всего одна касса или одна организация, не добавляйте в справочник ненужных элементов, это позволит вам не выбирать организацию или кассу в каждом диалоге программы.</para>
      </tip>
    </section>
    <section>
      <title>Типы мест</title>
      <para>Для удобной нумерации, каждое сдаваемое место в программе идентифицируется 2-я параметрами, тип места и номер места. Тип места - это справочник, позволяющий задать буквенный префикс для обозначения, например типа здания, его литеры или нести другую смысловую нагрузку.</para>
      <warning>
        <para>Тип места это - не переменная, которая со временем у места может меняться, это его идентификатор, у каждого места он должен оставаться неизменным. То есть, место А-1 и Б-1 разные места, если вам потребуется изменить тип места, то вам надо будет удалить старое место и создать новое с новым типом.</para>
      </warning>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="place_types.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Мы рекомендуем перед внесением сдаваемых площадей в программу, заранее продумать и заполнить справочник типов мест. Если у вас нет необходимости делить нумерацию мест на типы, создайте всего один тип места, он будет в программе подставляться автоматически.</para>
    </section>
    <section id="services">
      <title>Услуги</title>
      <para>Перед внесением договоров в программу обязательно заполните справочник услуг по договору. Основные услуги, это естественно арендная плата, электричество и прочее.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="Services.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Каждая услуга имеет ряд дополнительных параметров, это единица измерения и статья дохода по умолчанию. Единица измерения это отдельный справочник, который при необходимости можно дополнить или изменить, при добавлении услуги в договор единица измерения в договор будет подставляться автоматически. В программе каждая услуга жестко привязана к договору и не может меняться для каждого договора.</para>
      <tip>
        <para>Если у вас есть услуги которые могут иметь разные единицы изменения, создайте две услуги. Например, одни арендаторы могут платить за электричество по счетчику, другие просто фиксированной суммой в месяц. В этой ситуации можно создать две услуги &quot;Электричество по счетчику&quot; и &quot;Электричество фикс.&quot; с соответствующими единицами измерения &quot;кВат&quot; и &quot;усл.&quot;.</para>
      </tip>
      <para>Статья дохода по умолчанию, является не обязательным полем при добавлении услуги, но мы рекомендуем ее указывать. Это поможет вам при вводе оплаты по начислению не заполнять статью дохода. Смотри <xref linkend="PayAccrual"/>.</para>
    </section>
    <section>
      <title>Кассовые справочники</title>
      <para>Перед началом работы с кассой, необходимо заполнить все справочники, относящиеся к кассе. Это статьи дохода и статьи расхода. Каждый приходный и расходный ордера имеет статью, по которой производится внесении или списание денежных средств из кассы. Эта информация нужна для отчета &quot;Доходы и расходы&quot;, и позволяет вам учитывать общие суммы прихода и расхода по разным направлениям, например узнать сколько вам платят непосредственно за аренду, сколько за доп. услуги. Если у вас нет необходимости собирать эту информацию, вы можете создать всего по одной общей статье в каждом справочнике.</para>
    </section>
    <section>
      <title>Типы событий</title>
      <para>Если вы намерены вести в программе учет событий(см. <xref linkend="events"/>), предварительно вам необходимо заполнить справочник типов событий. Рекомендуем заранее продумать, все группы событий чтобы с одной стороны было удобно выполнять фильтрацию событий, с другой справочник не было очень большим и пользователи в нем не начали путаться.</para>
    </section>
  </chapter>
  <chapter>
    <title>Главное окно программы</title>
    <para>Главное окно программы содержит вкладки с различными оперативными данными. В каждой вкладке имеется таблица с данными и фильтром, расположенным над таблицей.</para>
    <para>Во всех таблицах в программе,  работает быстрая фильтрация, которая позволяет практически мгновенно фильтровать данные  таблицы по вхождению определенных символов. Например, в таблице торговых мест вы можете с легкостью найти все места арендуемые ООО «виа» набрав в фильтре по арендатору &lt;виа&gt;. Фильтр работает по любому вхождению набранных символов, слово не обязательно должно начинаться с вводимых символов. При этом как видно на следующем изображении поиск не чувствителен к регистру.</para>
    <screenshot>
      <mediaobject>
        <imageobject role="fo">
          <imagedata width="100%" scalefit="1" fileref="filter.png"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="filter.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <para>Единственным исключение является вкладка <literal>События</literal>, на этой вкладке мгновенный фильтр по таблицам не работает, фильтрация происходит только по нажатию кнопки <literal>Заполнить</literal>. Это связано с тем, что таблица событий как правило содержит большое количество данных и мгновенный фильтр не сможет быстро работать.</para>
  </chapter>
  <chapter>
    <title>Места</title>
    <para>Список сдаваемых в аренду мест является основной информацией в программе, на которую ссылаются все остальные данные. Поэтому, начинать внесение данных стоит именно с этой вкладки.</para>
    <screenshot>
      <mediaobject>
        <imageobject role="fo">
          <imagedata width="100%" scalefit="1" fileref="Place.png"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="Place.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <para>Уникальным идентификатором каждого сдаваемого места является комбинация из типа места(префикса) и его номера. То есть, в программу нельзя занести два места А-1, но можно занести А-1 и Б-1.</para>
    <para>За каждым сдаваемым местом можно закрепить одну из ваших организаций, эта информация будет использоваться для автоматического заполнения поля организации в договоре и других диалогах.</para>
    <para>За каждым местом можно закрепить контактное лицо. Тут стоит пояснить, зачем необходимо деление контактной информации на арендаторов и контактных лиц. Арендатор в программе - это форма собственности, ООО или ИП, с которым заключен договор аренды и тот, кто платит деньги за аренду площадей, а контактное лицо - это конкретный человек, с которым надо связываться при возникновении каких-либо проблем. Контактное лицо не всегда директор фирмы арендатора, например в случае субаренды (ваш арендатор сдает свои площади в аренду субарендаторам) при возникновении вопросов имеет смысл обращаться непосредственно к субарендаторам, данные которых можно занести в контактные лица.</para>
    <para>Связь арендуемой площади с арендатором в программе осуществлена через договора. То есть, вы не можете напрямую указать что, какое-то место сдано арендатору, так как это временная информация и сдано оно на какой-то промежуток времени. Для того чтобы связать арендатора с местом, вам нужно создать договор и в договоре указать даты его действия.</para>
    <para>В карточке места указывается информация о текущем арендаторе. То есть на место существует активный договор, то он отображается как текущий. Все предыдущие договора на это место указываются в таблице истории аренды. </para>
  </chapter>
  <chapter>
    <title>Арендаторы</title>
    <para>На вкладке <literal>Арендаторы</literal> мы видим всех арендаторов зарегистрированных в базе.</para>
    <para>По каждому арендатору можно внести достаточно много информации от реквизитов компании арендатора до паспортных данных индивидуального предпринимателя или директора.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="lessee.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <para>Классификация  арендаторов позволяет внести дополнительную информацию о арендаторе. Основой для классификации является справочник <literal>Группы товаров,</literal> который полностью редактируется под ваши цели.</para>
    <para>Также в карточке арендатора видна история аренды и договоров, заключенных этим арендатором, по умолчанию показывается только активные договора, для того чтобы увидеть историю, снимите галочку показывать только активные.  Из карточки договоров можно нажав правой кнопкой мыши открыть договор или торговое место.</para>
  </chapter>
  <chapter>
    <title>Договора</title>
    <para>После внесения в базу данных арендаторов, Вы наверняка захотите привязать их арендуемым площадям. Для того чтобы сообщить программе что какое-то место сдано на какой-то  период времени, необходимо ввести договор.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="Contract.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <para>В договоре мы указываем сдаваемое в аренду место, арендатора, с какой из ваших организаций заключен договор и период, на который сдается помещение. Период указывается в полях <literal>Дата начала аренды</literal> и <literal>Дата окончания аренды</literal>. Для досрочного расторжения договора существует поле <literal>Дата расторжения</literal>. Например, вы заключили договор на сдачу помещения с января по декабрь. Но по какой-то причине арендатор съезжает раньше, например в августе, для того чтобы указать программе, что арендатор с августа не будет арендовать это место, в поле <literal>Дата расторжения</literal> необходимо указать дату досрочного завершения аренды, для этого нет необходимости менять информацию о первоначальных сроках договора. Программа будет учитывать эту дату, как дату реального завершения сроков аренды.</para>
    <para>В таблице <literal>Услуги по договору</literal> указывается список услуг, предоставляемых арендатору, сама аренда также является одной из услуг. Указанные здесь суммы будут ежемесячно начисляться арендатору, что дает возможность простого внесения оплаты и осуществления контроля оплаты.</para>
    <para>Для добавления новой услуги нажмите кнопку <literal>Добавить</literal>, укажите название услуги, укажите кассу, в которую необходимо оплатить за эту услугу, единица измерения заполняется автоматически из справочника услуг, для ежемесячных услуг необходимо заполнить суммы, они будут начислены автоматически. Для услуг денежное вознаграждение,  которые меняются от месяца к месяцу, например при оплате электричества или воды по счетчику, заполнять суммы и количество не надо, эти суммы вы ежемесячно будете вводить прямо в начисления, в данном случае добавляем только название услуги.</para>
    <para>Программа позволяет отслеживать договора, дата окончания которых скоро закончится, это позволит вовремя  перезаключать(продлевать) такие договора. Для этого в главной таблице договоров существует галочка <literal>Аренда заканчивается в течении 30 дней</literal>.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="30Days.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
  </chapter>
  <chapter>
    <title>Работа с кассой</title>
    <para>Программа позволяет вести учет кассы или нескольких касс. Основные возможности - это ввод приходных и расходных ордеров, выдача денег под аванс подотчетным лицам и ввод авансовых отчетов. В результате работы с кассой можно получать отчеты по суммам потраченным на разные статьи расхода и доходам полученным по различным статьям, видеть незакрытые долги подотчетных лиц и контролировать оплату арендаторов.</para>
    <para>Вкладка <guilabel>Касса</guilabel> содержит список приходных и расходных ордеров и введенных авансовых отчетов. Все таблицы можно фильтровать с помощью параметров верхней части вкладки. В нижней части вкладки всегда отображается сумма всех документов с учетом фильтра. </para>
    <para>Например, мы хотим увидеть какую сумму арендатор &quot;ООО &quot;Краса&quot;&quot; заплатил за полгода, для этого в фильтре указываем период в полгода, в поле <guilabel>Контрагент</guilabel> вводим <userinput>краса</userinput>, в таблице останутся только приходные ордера с этим контрагентом, под таблицей мы увидим общую сумму всех документов.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="CashExample1.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <para>Таким образом, через фильтр можно получать общие суммы с разнообразными комбинациями условий.</para>
    <para>В верхней части вкладки отображается текущая сумма денег, которая должна находится в кассе, это общая сумма всех приходов за вычетом расходов. Причем, если в фильтре выбрать организацию или кассу, итоговая сумма будет отображаться только по этой организации или кассе, по умолчанию  показывается общая сумма по всем организациям и кассам.</para>
    <para>В программе существует ограничение на изменение кассы задним числом, то есть без соответствующих прав (см. <xref linkend="Users"/>) пользователь может исправлять только сегодняшние кассовые документы, предполагается что если кассир совершил ошибку при вводе документа, то в течении для у него есть возможность ее исправить. Но вчерашние и более ранние документы исправлять он не может.</para>
    <section>
      <title>Приходные ордера</title>
      <para>Рассмотрим универсальный способ ввода приходного ордера. Для этого откроем вкладку <guilabel>Касса</guilabel> на ней вкладку <guilabel>Приходные ордера</guilabel>, нажмем кнопку <guibutton>Добавить</guibutton>.</para>
      <tip>
        <para>Вводить оплату от арендаторов проще и удобнее из начислений см. <xref linkend="PayAccrual"/>, а внесение в кассу сдачи подотчетного лица проще вводить из авансового отчета см. <xref linkend="AdvanceStatment"/>. Эти операции автоматически создадут необходимые приходные ордера.</para>
      </tip>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="NewIncome.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Каждый приходный ордер может быть двух типов <literal>Возврат от подотчетного лица</literal> и <literal>Прочий приход</literal>. Возврат денег в кассу подотчетным лицом рассмотрим позже. А под прочим приходом подразумевается любое другое поступление денег в кассу, в том числе и оплата арендатором.</para>
      <para>При вводе платы необходимо выбрать арендатора, который платит, если у арендатора есть активные договора, то программа позволит выбрать договор по которому происходит оплата, если по выбранному договору введены начисления то, программа даст возможность также указать начисление, по которому производится оплата. Вам также необходимо выбрать статью дохода, по которой поступают деньги, это позволит в дальнейшем получать общую информацию о поступлении по каждой статье дохода.</para>
      <para>В основании можно указывать любую текстовую информацию.</para>
      <para>При внесении возврата от подотчетного лица, просто выбираем сотрудника и указываем сумму, ничего сложного.</para>
    </section>
    <section>
      <title>Расходные ордера</title>
      <para>Расходные ордера тоже бывают двух типов: <literal>Прочая выдача</literal> и <literal>Выдача подотчетному лицу</literal>. При обычной выдаче денег, мы указываем контрагента, сумму платежа и статью расхода на которую запишется расход. Если же мы еще не знаем контрагента и точную сумму расхода, а может и статью, просто выдаем деньги сотруднику чтобы он что-то купил, то необходимо выбрать выдачу подотчетному лицу, в этом случае расходный с помощью расходного ордера деньги спишутся из кассы, но на конкретные расходы они не попадут, пока подотчетное лицо не отчитается и не сообщит точную сумму потраченных денег. Выданные деньги будут числится в долгах у подотчетного лица.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="NewExpense.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
    </section>
    <section id="AdvanceStatment">
      <title>Подотчетные лица</title>
      <para>При необходимости внести расходы подотчетного лица, на которые до этого он брал деньги, мы должны создать авансовый отчет.</para>
      <para>При выборе подотчетного лица в окне создания авансового отчета, программа сразу показывает текущий долг подотчетного лица, когда и какие суммы он брал в таблице <guilabel>Последние авансы</guilabel>.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="NewAdvaceStatement.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Нам необходимо указать статью расхода и потраченную сумму. После сохранения авансового отчета эта сумма запишется в расходы по выбранной  статье.</para>
      <tip>
        <para>В программе авансовые отчеты напрямую не привязаны к расходным ордерам по которым подотчетное лицо получал деньги. Поэтому если сотрудник потратил выданную сумму на разные статьи расхода, вы можете просто создать два авансовых отчета с разными статьями на обе части суммы. И также  сотруднику могли несколько раз выдаваться деньги, но их можно закрыть одним авансовым отчетом.</para>
      </tip>
      <para>В программе существует простая возможность закрыть весь долг подотчетного лица, то есть сразу из авансового отчета внести остаток суммы долга в кассу. Для этого надо поставить галочку <guilabel>Создать приходный ордер на сумму остатка</guilabel>. </para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="CreateIncomeInAdvance.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>В этом случае долг будет полностью погашен, программа автоматически создаст приходный ордер на сумму остатка, а вам останется только внести указанную сумму в кассу.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="AdvanceCreateIncomeMessage.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Этот способ полностью закрыть долг подотчетного лица при создании авансового отчета может быть использован и в обратной ситуации, когда подотчетное лицо потратило на покупки больше денег чем получало из кассы. В этом случае при сохранении авансового отчета будет создан расходный ордер на сумму доплаты чтобы компенсировать потраченные на покупку личные средства.</para>
    </section>
    <section>
      <title>Кассовые отчеты</title>
      <para>Программа позволяет получать несколько суммарных отчетов с кассовой информацией. Отчеты можно открыть через меню <guimenu>Отчеты</guimenu> подменю <guisubmenu>Касса</guisubmenu> или с помощью соответствующих кнопок на вкладке <guilabel>Касса</guilabel>. </para>
      <para>Основной кассовый отчет это - <literal>Доходы и расходы</literal>, позволяет увидеть суммарный приход денег за определенный период, сгруппированный по статьям дохода. И суммарные затраты предприятия также сгруппированные по статьям расхода.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="CashBalance.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <warning>
        <para>Обратите внимание, что суммы выданные подотчетным лицам в этот отчет не попадают, они попадут в расходы только после того, как будет внесен авансовый отчет.</para>
      </warning>
      <para>Второй кассовый отчет позволяет увидеть текущие долги подотчетных лиц.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="Debts.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>При этом если в программе используется несколько организаций или касс, в отчете будут отображаться как общие сумму долга так и суммы по каждой организации или кассе.</para>
      <para>Из отчета долгов подотчетных лиц, можно легко  перейти в подробный отчет о движениях по каждому подотчетному лицу, для этого достаточно два раза  кликнуть по соответствующему должнику. В этот отчет также можно попасть через меню.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="AccountableSlips.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <warning>
        <para>Обратите внимание, что отчет отображает только движения за определенный период времени, не учитывая входящее сальдо на начало периода. Поэтому разница между итоговыми суммами в этом отчете не всегда будет равняться сумме долга.</para>
      </warning>
    </section>
  </chapter>
  <chapter>
    <title>Начисления</title>
    <para>В программе реализован механизм начислений, это связь между услугами, оказываемыми по договору и поступлением денег в кассу. Механизм начислений работает по следующей схеме.</para>
    <procedure>
      <step>
        <para>В договора вносится список услуг, которые ежемесячно оплачивает арендатор, на услуги с фиксированной ставкой суммы вносятся сразу, для услуг с ежемесячно изменяемыми суммами,     суммы в списке услуг остаются пустыми, просто указывается сам факт наличия услуги.</para>
      </step>
      <step>
        <para>Ежемесячно проводятся начисления по всем или некоторым договорам, суммы указанные в договоре переносятся в начисление для каждого месяца. При необходимости суммы оплаты за конкретный месяц можно корректировать или дополнять суммами с учетом показаний счетчиков.</para>
      </step>
      <step>
        <para>Кассир принимая ежемесячную плату от арендаторов, может видеть начисленную сумму и вносить оплату за месяц полностью или частично. Указание месяца за который производится оплата при вводе расходного ордера, позволяет контролировать, всю ли сумму внес арендатор.</para>
      </step>
    </procedure>
    <para>На вкладке <guilabel>Начисления</guilabel> мы можем видеть все созданные начисления по каждому договору за указанный месяц. В этой таблице вы можете видеть все цифры по начислению, сколько начислено, сколько арендатор уже оплатил и сколько остался должен. В нижней части окна вы можете видеть итоговые данные по таблице. Галочка в колонке <guilabel>Незаполнено</guilabel> говорит о том, что в начислении есть услуги с незаполненной суммой, например не внесены суммы, которые зависят от показаний счетчика. </para>
    <screenshot>
      <mediaobject>
        <imageobject role="fo">
          <imagedata width="100%" scalefit="1" fileref="Accruals.png"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="Accruals.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <section>
      <title>Ввод начисления вручную</title>
      <para>При необходимости начисление можно ввести или изменить вручную, но основным способом создания начислений является механизм массового начисления (см. <xref linkend="MassAccrual"/>).</para>
      <para>Для ввода начисления вручную, нажмите кнопку <guibutton>Добавить</guibutton>. Обязательными атрибутами начисления является месяц и год, за который производится начисление и договор по которому производится оплата. Если начисления вводится вручную, то в таблице <guilabel>Начислено</guilabel> необходимо ввести все услуги и суммы за которые арендатор должен заплатить в этом месяце.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="Accrual.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>В верхней части окна отображается текущий статус начисления: Оплачено или арендатор оплатил частично. Если арендатор не оплатил полностью один из предыдущих месяцев в поле <guilabel>предыдущий долг</guilabel> отобразится месяц и сумма долга, это позволяет кассиру в момент оплаты контролировать полностью ли арендатор оплатил предыдущий период.</para>
      <para>На вкладке <guilabel>Оплачено</guilabel> можно посмотреть все оплаты внесенные по этому начислению. Начисление не обязательно должно быть оплачено сразу и полностью, программа позволяет вносить частичные оплаты (см. <xref linkend="PayAccrual"/>).</para>
    </section>
    <section id="MassAccrual">
      <title>Массовые начисления</title>
      <para>Программа позволяет удобно производить начисления сразу всем (или некоторым) арендаторам за месяц, по всем активным договора. Для этого нажмите кнопку <guibutton>Массовое начисление</guibutton>, в появившемся окне мы можем выбрать месяц и год за который необходимо произвести начисление.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="MassAccrual.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Далее мы должны отметить галочками те договора, по которым необходимо провести начисление, можно воспользоваться кнопкой <guibutton>Выбрать все</guibutton>, для того чтобы сразу проставить все галочки.</para>
      <tip>
        <para>Обратите внимание, что программа не дает провести повторное начисление по одному и тому же договору. Возможность установить галочки для таких договоров просто отсутствует. Таким образом, если вы уже проводили массовые начисления, но после этого у вас добавились новые договора, вы можете отдельно для них провести начисление, не боясь изменить суммы в уже созданных.</para>
      </tip>
      <para>Как правило, после проведения массового начисления за месяц, необходимо дополнить начисления изменяемыми суммами оплаты, например на основе показаний счетчиков. В основной таблице начислений программа позволяет отобразить все начисления с неуказанными суммами, с помощью галочки фильтра <guilabel>Только частично начисленные</guilabel>.</para>
    </section>
    <section id="PayAccrual">
      <title>Ввод оплаты по начислению</title>
      <para>Самый простой способ вводить оплаты арендаторов, это найти необходимое начисление с помощью фильтра и нажать кнопку <guibutton>Внести оплату</guibutton>, она присутствует в списке начислений и в самом начислении.</para>
      <para>В окне ввода оплаты, таблица возможных платежей   автоматически заполняется из начисленных сумм и услуг. Нам останется только выбрать необходимые услуги  и нажать кнопку <guibutton>OK</guibutton>.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="AccrualPay.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <warning>
        <para>Обратите внимание, что для проведения оплаты, необходимо указать статью дохода, по которой эта оплата пройдет. Для того чтобы не указывать статью дохода при каждой оплате, в справочнике услуг необходимо указывать статьи дохода по умолчанию. См. <xref linkend="services"/></para>
      </warning>
      <tip>
        <para>В этом диалоге вы можете менять сумму которая будет зачислена. То есть вы можете вносить частичную оплату за какую-то из услуг.</para>
      </tip>
      <para>После согласия с оплатой программа автоматически создаст приходные ордера. При этом если оплата происходит по разным статьям дохода программа создаст несколько приходных ордеров. В случае когда несколько услуг относятся к одной статье дохода, программа объединит их в один приходный ордер. Это сделано потому, что каждый приходный ордер имеет только одну статью дохода и общую сумму внесенных в кассу денег.</para>
    </section>
  </chapter>
  <chapter id="events">
    <title>События</title>
    <para>В программе имеется возможность вести учет событий, привязанных к арендаторам и\или сдаваемому месту. Это позволяет наладить учет и хранить историю каждого места или арендатора. Этот механизм может использоваться менеджерами для хранения истории переговоров и учета взаимоотношений с клиентом, может использоваться управляющими для учета прошествий и порче сдаваемого имущества и охраной для учета прошествий.</para>
    <para>В программе можно создать разные типы событий, для удобного разделения всех видов происшествий на группы, это делается через справочник типов событий.</para>
    <para>Создадим новое событие нажав кнопку <guibutton>Добавить</guibutton>. Для каждого события необходимо указать или сдаваемое место и\или арендатора. Это позволит вам удобно просматривать историю событий, например можно будет посмотреть что происходило с конкретным местом в течении года. При этом при выборе места, если оно не пустует программа автоматически заполнить поле <guilabel>Арендатор</guilabel>.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="CreateEvent.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <para>Также необходимо указать тип события и заполнить хотя бы одно из полей <guilabel>Причина</guilabel> и <guilabel>Принятые меры</guilabel>.</para>
    <para>На вкладке События главного окна программы мы можем просматривать и искать события про различным критериям, в том числе проводить полнотекстовый поиск по полям причины и принятых мер.</para>
    <screenshot>
      <mediaobject>
        <imageobject role="fo">
          <imagedata width="100%" scalefit="1" fileref="Events.png"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="Events.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <warning>
      <para>Обратите внимание, что это единственная таблица в программе, которая не выполняет мгновенную выборку данных из базы. Для того чтобы отобразить события по определенным критериям необходимо нажать кнопку <guibutton>Заполнить</guibutton>. Это связано с тем, что данная таблица при определенных параметрах фильтра может содержать очень большое количество строк, что может заметно сказаться на производительности, при подходе принятом в других частях программы.</para>
    </warning>
  </chapter>
  <chapter id="Users">
    <title>Работа с пользователями</title>
    <para>В программе каждый пользователь подключается к базе MySQL под своей учетной записью, это позволяет применять права доступа  на уровне сервера баз данных. В то же время, в программе имеется внутренний справочник пользователей, позволяющий задавать некоторые права на уровне программы и  вносить имена пользователей на русском языке.</para>
    <para>Если пользователь создан с помощью MySQL, то при первом входе в программу  его логин автоматически добавляется во внутренний справочник пользователей и становится доступен через меню <guimenu>Файл</guimenu> пункт <guimenuitem>Пользователи</guimenuitem>.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="Users.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <warning>
      <para>Этот пункт меню доступен только пользователям с правом <guilabel>Администрирования пользователей</guilabel>.</para>
    </warning>
    <para>Помимо права изменять существующих в программе пользователей, пользователю также можно дать право изменять кассовые документы задним числом, то есть созданные не сегодня.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="User.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <section>
      <title>Безопасность сервера баз данных</title>
      <para>При доступе к серверу MySQL через интернет обратите особое внимание на безопасность сервера в целом. Программа «Базар» при соединение с сервером не использует шифрование, поэтому пароли пользователей относительно легко перехватить, наиболее безопасным вариантом организации удаленного доступа будет работа с удаленным сервером через VPN-туннель.</para>
      <para>Также, обратите внимание, что программа при создании учетной записи с правом администрирования пользователей дает этому пользователю права на доступ к внутренней базе mysql и таблице со всеми пользователями сервера, при этом позволяя ему соединятся с любого хоста. Поэтому, злоумышленник перехватив пароль такого пользователя может  получить доступ к любой базе на сервере или скинуть пароль root-а. Для того чтобы избежать такой ситуации, не давайте удаленным пользователям право администратора и ограничьте доступ  пользователей с правом администратора только c localhost или внутренней сети. Это можно сделать средствами MySQL.</para>
    </section>
    <section id="Add_users">
      <title>Добавление пользователей средствами MySQL</title>
      <para>Вы можете добавлять и удалять пользователей средствами MySQL, это может дать вам более гибкое управление правами пользователя, например позволит ограничить доступ к базе данных только с определенных компьютеров.</para>
      <para>В этом разделе рассмотрим простое создание пользователя с помощью WorkBench.  Для этого подсоединитесь к серверу в режиме <guilabel>Server Administration</guilabel> перейдите в раздел <literal>Users and Privileges</literal> и нажмите кнопку <guibutton>Add Account</guibutton>.</para>
      <screenshot>
        <mediaobject>
          <imageobject role="fo">
            <imagedata width="100%" scalefit="1" fileref="6-AddUser.png"/>
          </imageobject>
          <imageobject role="html">
            <imagedata fileref="6-AddUser.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>На вкладке <literal>Login</literal> вводим имя нового пользователя и пароль. Сохранить пользователя можно нажав <literal>Apply</literal>.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="7-UserName.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Теперь надо дать нашему новому пользователю доступ к базе bazar. Для этого переходим на вкладку <literal>Schema Privileges</literal>. Выбираем нашего пользователя и нажимаем кнопку <literal>Add Entry..</literal>.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="8-UserPermission.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Выбираем <literal>Selected Schema</literal> и указываем базу данных bazar. Нажимаем «Ok».</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="9-BasePermission.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Строчка с правами добавилась в таблицу, теперь нажимаем <literal>Select ALL</literal> и <literal>Save Changes</literal>.</para>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="10-SetPermission.png"/>
          </imageobject>
        </mediaobject>
      </screenshot>
      <para>Все, добавление нового пользователя закончено, теперь под ним можно зайти в базу. При первом входе в базу он автоматически добавится во внутреннюю таблицу пользователей программы «Базар».</para>
    </section>
  </chapter>
  <chapter id="delete">
    <title>Удаление записей</title>
    <para>При удалении любых записей в программе используется единый механизм, отслеживающий зависимости между объектами базы данных и позволяющий сохранить целостность данных при удалении любых объектов.</para>
    <para>Если на удаляемый объект в базе данных нет ссылок, то программа выводит простое предупреждение, согласны ли вы удалить этот объект.</para>
    <para>Если же объект или элемент справочника уже использовался в каком-либо месте, то программа предложит более сложное удаление, при котором вместе с этим объектом будут также удалены все объекты на него ссылающиеся и\или в них будут удалены ссылки на удаляемый объект. При этом учитывается все дерево зависимостей, то есть, удаляя например тип места, вместе с ним будут удалены все места относящиеся к этому типу, а уже вместе с местами будут удалены все договора оформленные на эти места и т.д.</para>
    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="DeleteExample.png"/>
        </imageobject>
      </mediaobject>
    </screenshot>
    <warning>
      <para>При удалении будьте всегда аккуратны, так как удаляя один объект вы можете случайно удалить из базы очень много полезной информации, которую удалять не планировали. Удаленные объекты уже нельзя будет восстановить.</para>
    </warning>
    <para>При сложном удалении существует 2 типа действий, если ссылка на удаляемый объект является обязательной, например вы удаляете сотрудника вместе с ним будут удалены все его авансовые отчеты, так как в авансовом отчете не может отсутствовать подотчетное лицо. В тоже время, если вы удаляете договор, то приходные ордера в которых указан этот договор не будут удалены, в них только будет удалена информация о том, что данный платеж был сделан по этому договору(очищена ссылка).</para>
  </chapter>
  <chapter id="License">
    <title>Условия использования и распространения</title>
    <para>Программа распространяется на условиях лицензии GPL-2 (GNU GENERAL PUBLIC LICENSE), текст лицензии находится в папке с программой в файле COPYING.</para>
    <para>Вкратце, эта лицензия позволяет вам, использовать программу в любых целях, свободно модифицировать(дорабатывать) ее для своих нужд и распространять ее, то есть передавать другим пользователям в неизменном виде. Но если вы изменили что-то в программе и распространяете модифицированную версию, вы обязаны распространять ее на тех же условиях, то есть предоставить всем пользователям модифицированной версии исходный код своих доработок.</para>
    <section>
      <title>Преимущества</title>
      <para>Открытый подход к разработке нашего продукта несет несколько преимуществ Вам, как конечному пользователю программы.</para>
      <itemizedlist>
        <listitem>
          <para>Мы не накладываем на вас, множества ограничений, которые как правило присутствуют в лицензионных соглашениях большинства проприетарных продуктов, например на количество пользователей или на условия запуска, например отсутствие возможности работать в терминальном режиме или на цели использования, например для коммерческого использования своя цена и тому подобные ограничения.</para>
        </listitem>
        <listitem>
          <para>Мы позволяем Вам при необходимости самим дорабатывать продукт или нанять для этого любого программиста. Что как правило нельзя сделать с закрытыми проприетарными продуктами.</para>
        </listitem>
        <listitem>
          <para>У Вас нет прямой зависимости о действий разработчика, так называемый вендор лок, который часто применяется в софтверной индустрии. Для вытягивания дополнительный денег с пользователей.</para>
        </listitem>
        <listitem>
          <para>Если у вас молодой бизнес, вы можете использовать наш продукт как есть, без какой-либо платы. Что может дать вам дополнительные возможности для роста.</para>
        </listitem>
      </itemizedlist>
      <para>При этом мы надеемся на добросовестность наших пользователей и клиентов и если Вы желаете, чтобы продукт развивался и улучшался, поддержите нас приобретя платную поддержку или закажите разработку необходимых для вас функций.</para>
      <para>Если Вы дорабатываете программу своими силами, не забывайте, что отправляя нам свои доработки Вы можете значительно сократить стоимость поддержки вашей ветки, за счет объединения усилий.</para>
      <para>Мы также приглашаем к сотрудничеству партнеров для совместного развития и распространения программы.</para>
    </section>
  </chapter>
</book>
